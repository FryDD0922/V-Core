<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tag Search App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes bounce-custom {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
        }
        .animate-bounce-slow {
            animation: bounce-custom 1s infinite;
        }
        .glass {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(8px);
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <!-- Mobile Container -->
    <div id="main-container" class="relative w-full max-w-[400px] h-[850px] bg-black overflow-hidden shadow-2xl sm:rounded-[3rem] border-[8px] border-zinc-800">
        
        <!-- Background Image -->
        <div class="absolute inset-0 bg-cover bg-center opacity-80" 
             style="background-image: url('https://images.unsplash.com/photo-1534531173927-aeb928d54385?auto=format&fit=crop&w=800&q=80')">
            <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/60"></div>
        </div>

        <!-- Interface Content -->
        <div class="absolute inset-0 flex flex-col justify-between p-6 text-white">
            <!-- Top Bar -->
            <div class="flex justify-between items-center pt-4">
                <button class="p-2 glass rounded-full"><span>&lt;</span></button>
                <div class="text-xs font-semibold tracking-widest uppercase">For You</div>
                <div class="w-8"></div>
            </div>

            <!-- Bottom Info -->
            <div class="space-y-4 mb-8">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full border-2 border-white overflow-hidden bg-pink-300">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="avatar">
                    </div>
                    <div>
                        <p class="font-bold text-sm">ham._.cheeze <span class="text-xs font-normal opacity-80">• Follow</span></p>
                        <p class="text-xs opacity-90">With Medicube PDRN Bubble Serum ✨</p>
                    </div>
                </div>
            </div>

            <!-- Sidebar Actions -->
            <div class="absolute right-4 bottom-32 flex flex-col items-center gap-6">
                <div class="relative flex flex-col items-center">
                    <button id="open-search" class="mb-1 p-2 rounded-full transition-all duration-300 hover:scale-110 text-white animate-bounce-slow">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
                    </button>
                    <div class="flex flex-col items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" class="cursor-pointer"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                        <span class="text-xs mt-1 font-bold">1,734</span>
                    </div>
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>
            </div>
        </div>

        <!-- SEARCH PANEL -->
        <div id="search-panel" class="absolute bottom-0 left-0 right-0 h-[75%] bg-zinc-900 rounded-t-[2.5rem] p-6 shadow-2xl transition-transform duration-500 translate-y-full z-50 flex flex-col">
            <div class="flex justify-between items-center mb-6">
                <h3 id="panel-title" class="text-lg font-bold text-white">Search & Tags</h3>
                <button id="close-search" class="p-1 text-zinc-500 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg></button>
            </div>

            <!-- Search Input -->
            <div class="flex items-center gap-3 p-4 rounded-2xl bg-zinc-800 mb-4 border border-transparent focus-within:border-blue-500 transition-all">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-500"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <input id="search-input" type="text" placeholder="Search 'skin'..." class="bg-transparent outline-none w-full text-sm text-white">
            </div>

            <div class="flex-1 overflow-y-auto hide-scrollbar">
                <!-- Suggestions Section -->
                <div id="suggestions-section" class="hidden mb-6">
                    <p class="text-[10px] font-bold uppercase text-blue-500 mb-2 tracking-widest">Suggestions</p>
                    <div id="suggestions-container" class="flex flex-wrap gap-2"></div>
                </div>

                <!-- Active Tags Section -->
                <div class="mb-6">
                    <p class="text-[10px] font-bold uppercase text-zinc-500 mb-3 tracking-widest">Active Tags</p>
                    <div id="active-tags-container" class="flex flex-wrap gap-2"></div>
                </div>

                <!-- Explore Section -->
                <div>
                    <p class="text-[10px] font-bold uppercase text-zinc-500 mb-3 tracking-widest">Explore More</p>
                    <div id="explore-tags-container" class="flex flex-wrap gap-2"></div>
                </div>
            </div>

            <button id="toggle-theme" class="mt-4 py-2 text-[10px] text-zinc-500 uppercase text-center hover:text-white transition-colors">Switch to Light Mode</button>
        </div>

        <!-- iPhone Bar -->
        <div class="absolute bottom-2 left-1/2 -translate-x-1/2 w-32 h-1 bg-white/40 rounded-full"></div>
    </div>

    <script>
        const allAvailableTags = [
            "Skincare", "Skin Routine", "Skin Glow", "K-Beauty", 
            "Medicube", "PDRN Serum", "Travel", "Makeup", "Seoul", 
            "Glass Skin", "Night Routine", "Beauty Tips"
        ];
        
        let selectedTags = ["Skincare", "Medicube"];
        let isDarkMode = true;

        const searchInput = document.getElementById('search-input');
        const openSearchBtn = document.getElementById('open-search');
        const closeSearchBtn = document.getElementById('close-search');
        const searchPanel = document.getElementById('search-panel');
        const toggleThemeBtn = document.getElementById('toggle-theme');
        const mainContainer = document.getElementById('main-container');

        // Toggle Panel
        openSearchBtn.addEventListener('click', () => searchPanel.style.transform = 'translateY(0)');
        closeSearchBtn.addEventListener('click', () => searchPanel.style.transform = 'translateY(100%)');

        // Toggle Theme
        toggleThemeBtn.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            searchPanel.classList.toggle('bg-zinc-900', isDarkMode);
            searchPanel.classList.toggle('bg-white', !isDarkMode);
            document.getElementById('panel-title').classList.toggle('text-white', isDarkMode);
            document.getElementById('panel-title').classList.toggle('text-black', !isDarkMode);
            toggleThemeBtn.innerText = isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode';
            renderTags();
        });

        // Search Logic
        searchInput.addEventListener('input', (e) => {
            renderTags(e.target.value);
        });

        function toggleTag(tag) {
            if (selectedTags.includes(tag)) {
                selectedTags = selectedTags.filter(t => t !== tag);
            } else {
                selectedTags.push(tag);
                searchInput.value = '';
            }
            renderTags();
        }

        function renderTags(query = '') {
            const suggestionsContainer = document.getElementById('suggestions-container');
            const activeContainer = document.getElementById('active-tags-container');
            const exploreContainer = document.getElementById('explore-tags-container');
            const suggestionsSection = document.getElementById('suggestions-section');

            // Render Active Tags
            activeContainer.innerHTML = '';
            selectedTags.forEach(tag => {
                const btn = document.createElement('button');
                btn.className = `flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all ${isDarkMode ? 'bg-white text-black' : 'bg-zinc-900 text-white'}`;
                btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg> ${tag}`;
                btn.onclick = () => toggleTag(tag);
                activeContainer.appendChild(btn);
            });

            // Handle Suggestions
            suggestionsContainer.innerHTML = '';
            if (query.length > 0) {
                const filtered = allAvailableTags.filter(t => t.toLowerCase().includes(query.toLowerCase()) && !selectedTags.includes(t));
                if (filtered.length > 0) {
                    suggestionsSection.classList.remove('hidden');
                    filtered.forEach(tag => {
                        const btn = document.createElement('button');
                        btn.className = 'px-3 py-1.5 rounded-lg bg-blue-500/10 text-blue-500 text-xs font-semibold border border-blue-500/20 hover:bg-blue-500/20 transition-colors';
                        btn.innerText = `+ ${tag}`;
                        btn.onclick = () => toggleTag(tag);
                        suggestionsContainer.appendChild(btn);
                    });
                } else {
                    suggestionsSection.classList.add('hidden');
                }
            } else {
                suggestionsSection.classList.add('hidden');
            }

            // Explore Tags
            exploreContainer.innerHTML = '';
            allAvailableTags.filter(t => !selectedTags.includes(t) && !allAvailableTags.filter(st => st.toLowerCase().includes(query.toLowerCase())).includes(t)).forEach(tag => {
                const btn = document.createElement('button');
                btn.className = `px-3 py-1.5 rounded-full text-xs font-medium border ${isDarkMode ? 'bg-zinc-800 border-zinc-700 text-zinc-400' : 'bg-gray-50 border-gray-200 text-gray-600'}`;
                btn.innerText = tag;
                btn.onclick = () => toggleTag(tag);
                exploreContainer.appendChild(btn);
            });
        }

        // Init
        renderTags();
    </script>
</body>
</html>